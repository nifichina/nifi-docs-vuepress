(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{591:function(t,a,e){t.exports=e.p+"assets/img/json.fad9dbdb.png"},592:function(t,a,e){t.exports=e.p+"assets/img/splitconfig.2d1b4a63.png"},593:function(t,a,e){t.exports=e.p+"assets/img/splitresult.76e78456.png"},594:function(t,a,e){t.exports=e.p+"assets/img/splitresult1.ca497e39.png"},595:function(t,a,e){t.exports=e.p+"assets/img/json2.b3592aa2.png"},596:function(t,a,e){t.exports=e.p+"assets/img/splitconfig2.66e31a45.png"},597:function(t,a,e){t.exports=e.p+"assets/img/splitresult2.fbb19e87.png"},643:function(t,a,e){"use strict";e.r(a);var s=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"splitjson"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#splitjson","aria-hidden":"true"}},[t._v("#")]),t._v(" SplitJson")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("编辑人："),s("strong",[s("strong",[t._v("酷酷的诚")])]),t._v("  邮箱："),s("strong",[t._v("zhangchengk@foxmail.com")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("内容：")]),t._v(" "),s("h2",{attrs:{id:"描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#描述","aria-hidden":"true"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),s("p",[t._v("该处理器使用JsonPath表达式指定需要的数组元素，将JSON数组分割为多个单独的流文件。每个生成的流文件都由指定数组的一个元素组成，并传输到关系“split”，原始文件传输到关系“original”。如果没有找到指定的JsonPath，或者没有对数组元素求值，则将原始文件路由到“failure”，不会生成任何文件。")]),t._v(" "),s("p",[t._v("该处理器需要使用人员掌握JsonPath表达式语言。")]),t._v(" "),s("h2",{attrs:{id:"属性配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性配置")]),t._v(" "),s("p",[t._v("在下面的列表中，必需属性的名称以粗体显示。任何其他属性(不是粗体)都被认为是可选的，并且指出属性默认值（如果有默认值），以及属性是否支持表达式语言。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("属性名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("可选值")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("JsonPath Expression")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("一个JsonPath表达式，它指定用以分割的数组元素。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Null Value Representation")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("li",[t._v("empty string")]),s("li",[t._v("the string 'null'")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("指定结果为空值时的表示形式。")])])])]),t._v(" "),s("h2",{attrs:{id:"连接关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接关系","aria-hidden":"true"}},[t._v("#")]),t._v(" 连接关系")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("failure")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果一个流文件处理失败(例如，流文件不是有效的JSON数组或者指定的JsonPath路径不存在)，它将被路由到这个关系")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("original")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("被分割成段的原始流文件。如果流文件处理失败，则不会向该关系发送任何内容")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("split")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("成功分割的流文件结果路由到这个关系")])])])]),t._v(" "),s("h2",{attrs:{id:"读取属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读取属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 读取属性")]),t._v(" "),s("p",[t._v("没有指定。")]),t._v(" "),s("h2",{attrs:{id:"写属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 写属性")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("fragment.identifier")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("从同一个父流文件生成的所有分割流文件都将为该属性添加相同的UUID(随机生成)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("fragment.index")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("一个增长的数字，表示从单个父流文件创建的分割流文件的顺序")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("fragment.count")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("从父流文件生成的分割流文件的数量")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("segment.original.filename")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("父流文件的文件名")])])])]),t._v(" "),s("h2",{attrs:{id:"状态管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态管理","aria-hidden":"true"}},[t._v("#")]),t._v(" 状态管理")]),t._v(" "),s("p",[t._v("此组件不存储状态。")]),t._v(" "),s("h2",{attrs:{id:"限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#限制","aria-hidden":"true"}},[t._v("#")]),t._v(" 限制")]),t._v(" "),s("p",[t._v("此组件不受限制。")]),t._v(" "),s("h2",{attrs:{id:"输入要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输入要求","aria-hidden":"true"}},[t._v("#")]),t._v(" 输入要求")]),t._v(" "),s("p",[t._v("此组件需要传入关系。")]),t._v(" "),s("h2",{attrs:{id:"系统资源方面的考虑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统资源方面的考虑","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统资源方面的考虑")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("资源")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("内存")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("分割生成的流文件，以及被分割流文件的全部内容(作为JsonNode对象)会读入内存。由于JSON的大小或由于配置输出大量的分割文件，则可能过度使用内存，此时可能需要分阶段进行来避免过度使用内存。")])])])]),t._v(" "),s("h2",{attrs:{id:"应用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用场景","aria-hidden":"true"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),s("p",[t._v("该处理器主要用于分割json数组，灵活运用时也可做数据清洗(比如需要抽取json中某一个字段)。")]),t._v(" "),s("h2",{attrs:{id:"示例说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 示例说明")]),t._v(" "),s("p",[t._v("1:下面是该处理器应用最多的情况，如下图为一json数组")]),t._v(" "),s("p",[s("img",{attrs:{src:e(591),alt:""}})]),t._v(" "),s("p",[t._v("在SplitJson中配置JsonPath为  $.* (匹配数组任意元素)")]),t._v(" "),s("p",[s("img",{attrs:{src:e(592),alt:""}})]),t._v(" "),s("p",[t._v("split关系中输出3个分割文件，original关系中输出被分割原文件。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(593),alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(594),alt:""}})]),t._v(" "),s("p",[t._v("2：举例说明该处理器的复杂使用，如下图为一多层次结构json数组，需要分割取出json数组中的father字段。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(595),alt:""}})]),t._v(" "),s("p",[t._v("配置JsonPath为$.*.family.father")]),t._v(" "),s("p",[s("img",{attrs:{src:e(596),alt:""}})]),t._v(" "),s("p",[t._v("结果：")]),t._v(" "),s("p",[s("img",{attrs:{src:e(597),alt:""}})])])}],i=e(0),l=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},s,!1,null,null,null);a.default=l.exports}}]);